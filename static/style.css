:root {
    --bg:#05070a;
    --accent:#00f2ff;
    --accent-glow:rgba(0,242,255,.6);
    --border:rgba(255,255,255,.1);
    --success:#00ffa3;
    --danger:#ff4d4d;
}

/* ================= BASE ================= */
body {
    background:radial-gradient(circle at top,#101826,var(--bg));
    color:#fff;
    font-family:'Plus Jakarta Sans',sans-serif;
    margin:0;
}

/* ================= NAV ================= */
.top-nav {
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:18px 32px;
    margin-bottom:20px;
}

/* ================= BRAND ================= */
.animated-brand {
    animation: brandGlow 4s infinite;
}

.brand-main {
    font-size:1.8rem;
    font-weight:800;
}

.brand-dot {
    color:var(--accent);
    margin-left:2px;
    animation: dotPulse 2s infinite;
}

.brand-sub {
    font-size:0.7rem;
    opacity:0.65;
    letter-spacing:0.14em;
    text-transform:uppercase;
}

@keyframes brandGlow {
    50% { text-shadow:0 0 20px var(--accent); }
}
@keyframes dotPulse {
    50% { opacity:.5; }
}

/* ================= LOGIN ================= */
.login-btn {
    padding:8px 18px;
    background:transparent;
    border:1px solid var(--accent);
    border-radius:20px;
    color:var(--accent);
    cursor:pointer;
    transition:.3s;
}
.login-btn:hover {
    background:var(--accent);
    color:#000;
    box-shadow:0 0 20px var(--accent-glow);
}

/* ================= MAIN ================= */
.dashboard-wrapper {
    max-width:1150px;
    margin:auto;
    padding:26px 20px 40px;
}

.bento-grid {
    display:grid;
    grid-template-columns:1.5fr 1fr;
    gap:30px;
    margin-top:18px;
}

.side-column {
    display:flex;
    flex-direction:column;
    gap:26px;
}

.bento-tile {
    background:rgba(255,255,255,.03);
    border:1px solid var(--border);
    border-radius:20px;
    backdrop-filter:blur(16px);
}
.compact { padding:20px; }

/* ================= SCANNER ================= */
.drop-zone {
    border:2px dashed var(--border);
    border-radius:16px;
    padding:34px;
    margin:16px 0 20px;
    text-align:center;
    cursor:pointer;
    position:relative;
    transition:.4s;
}

.drop-zone.invalid {
    border-color:#ff4444;
    box-shadow:0 0 22px rgba(255,68,68,0.45);
}

.drop-zone.valid {
    border-color:var(--success);
    box-shadow:0 0 22px rgba(0,255,163,0.45);
}

/* Pointer events */
.drop-zone * { pointer-events:none; }
.scan-actions,
.scan-actions *,
.scan-timeline { pointer-events:auto; }

.drop-zone:hover {
    border-color:var(--accent);
    box-shadow:0 0 25px var(--accent-glow);
}

.drag-over {
    background:rgba(0,242,255,.08);
}

/* ================= MODERN SCAN ANIMATION ================= */
.is-scanning {
    box-shadow:0 0 45px rgba(0,242,255,.45);
    animation:scanPulse 1.8s ease-in-out infinite;
}

@keyframes scanPulse {
    0% { box-shadow:0 0 30px rgba(0,242,255,.35); }
    50% { box-shadow:0 0 75px rgba(0,242,255,.75); }
    100% { box-shadow:0 0 30px rgba(0,242,255,.35); }
}

.scan-wave::after {
    content:"";
    position:absolute;
    inset:-25%;
    background:radial-gradient(circle,rgba(0,242,255,.18),transparent 65%);
    animation:neuralWave 3s cubic-bezier(.19,1,.22,1) infinite;
    pointer-events:none;
}

@keyframes neuralWave {
    0% { transform:scale(.85); opacity:.35; }
    50% { transform:scale(1.05); opacity:.8; }
    100% { transform:scale(.85); opacity:.35; }
}

/* ================= SCAN TIMELINE ================= */
.scan-timeline {
    list-style:none;
    padding:0;
    margin:14px 0 0;
    font-size:0.75rem;
    text-align:left;
}

.scan-timeline li {
    padding-left:18px;
    margin:6px 0;
    position:relative;
    opacity:0.45;
}

.scan-timeline li::before {
    content:"○";
    position:absolute;
    left:0;
    color:rgba(255,255,255,0.35);
}

.scan-timeline li.active {
    opacity:1;
    color:var(--accent);
}

.scan-timeline li.active::before {
    content:"●";
    color:var(--accent);
}

.scan-timeline li.done {
    opacity:0.75;
    color:var(--success);
}

.scan-timeline li.done::before {
    content:"✔";
    color:var(--success);
}

/* ================= IMAGE PREVIEW ================= */
.scanner-preview {
    position:relative;
    width:100%;
    margin-top:14px;
    border-radius:14px;
    overflow:hidden;
    animation:previewFadeIn .6s ease forwards;
}

@keyframes previewFadeIn {
    from { opacity:0; transform:scale(.96); }
    to { opacity:1; transform:scale(1); }
}

.scanner-preview img {
    width:100%;
    display:block;
    border-radius:14px;
    filter:saturate(1.1) contrast(1.05);
}

.scanner-preview::after {
    content:"";
    position:absolute;
    inset:0;
    background:
        linear-gradient(rgba(255,255,255,0.04) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,0.04) 1px, transparent 1px);
    background-size:18px 18px;
}

.is-scanning .scanner-preview img {
    filter:brightness(.9);
}

/* ================= GAUGE ================= */
.gauge-wrapper {
    width:200px;
    margin:12px auto 6px;
    position:relative;
}

.gauge-bg {
    stroke:rgba(255,255,255,.08);
    stroke-width:6;
    fill:none;
}

.gauge-fill {
    fill:none;
    stroke:var(--accent);
    stroke-width:6;
    stroke-dasharray:126;
    stroke-dashoffset:126;
    filter:drop-shadow(0 0 10px var(--accent));
    transition:stroke-dashoffset 1.8s cubic-bezier(.19,1,.22,1);
}

.gauge-label {
    font-size:2.3rem;
    font-weight:800;
    color:var(--accent);
    text-shadow:0 0 18px rgba(0,242,255,0.7);
}

/* ================= STATUS ================= */
.status-error { color:#ff4444; }
.status-success { color:var(--success); }

/* ================= LOGS ================= */
.log-item {
    display:flex;
    justify-content:space-between;
    padding:6px 0;
    font-size:0.8rem;
    opacity:.9;
}

/* ================= HISTORY ================= */
.history-grid {
    display:grid;
    grid-template-columns:repeat(4,1fr);
    gap:18px;
}

.history-item {
    aspect-ratio:1;
    border-radius:12px;
    background:rgba(255,255,255,.05);
    overflow:hidden;
    border:1px solid rgba(255,255,255,.08);
    transition:.35s;
}
.history-item:hover {
    box-shadow:0 0 22px rgba(0,242,255,.35);
}

/* ================= HEATMAP MODAL ================= */
.heatmap-modal {
    position:fixed;
    inset:0;
    z-index:1000;
}

.heatmap-backdrop {
    position:absolute;
    inset:0;
    background:rgba(0,0,0,.65);
    backdrop-filter:blur(6px);
}

.heatmap-card {
    position:relative;
    width:680px;
    max-width:90%;
    margin:6vh auto;
    background:rgba(15,20,30,.85);
    border-radius:20px;
    backdrop-filter:blur(18px);
}
/* Save button */
.scan-btn.save {
    border-color: var(--accent);
    color: var(--accent);
}

.scan-btn.save:hover {
    background: var(--accent);
    color: #000;
    box-shadow: 0 0 20px var(--accent-glow);
}

/* Heatmap button */
.scan-btn.heatmap-btn {
    border-color: #ff6a00;
    color: #ff6a00;
}

.scan-btn.heatmap-btn:hover {
    background: linear-gradient(135deg, #ff6a00, #ff0000);
    color: #000;
    box-shadow: 0 0 24px rgba(255,106,0,0.6);
}
#heatmap-canvas {
    position: absolute;
    inset: 0;
    pointer-events: none;
    mix-blend-mode: normal;
}


/* =====================================================
   LOGIN PAGE – CLEAN & FINAL (SINGLE SOURCE OF TRUTH)
===================================================== */

body.auth-page {
    --border:rgba(255,255,255,.2);

    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:
        radial-gradient(circle at 20% 20%, rgba(0,242,255,.12), transparent 40%),
        radial-gradient(circle at 80% 80%, rgba(0,188,212,.1), transparent 45%),
        radial-gradient(circle at center,#101826,var(--bg));
}

/* ================= BACK ================= */
.back-float-btn{
    position:fixed;
    top:16px;
    left:16px;
    padding:6px 12px;
    font-size:.75rem;
    border:1px solid var(--accent);
    background:transparent;
    color:var(--accent);
    border-radius:12px;
    cursor:pointer;
}

.back-float-btn:hover{
    background:var(--accent);
    color:#000;
    box-shadow:0 0 12px var(--accent-glow);
}

/* ================= CARD ================= */
.auth-card{
  width:320px;
  padding:24px;
  border-radius:16px;
  background:rgba(255,255,255,.06);
  border:1px solid var(--border);
  backdrop-filter:blur(18px);
  text-align:center;
  box-shadow:0 20px 50px rgba(0,0,0,.45);
}

/* Error shake */
.auth-card.error{
  animation:shake .4s;
}
@keyframes shake{
  0%{transform:translateX(0)}
  25%{transform:translateX(-6px)}
  50%{transform:translateX(6px)}
  75%{transform:translateX(-4px)}
  100%{transform:translateX(0)}
}

/* ================= HEADER ================= */
.auth-title{
  font-size:1.3rem;
  font-weight:800;
}
.brand-dot{color:var(--accent);}
.auth-subtitle{
  font-size:.8rem;
  opacity:.7;
  margin-bottom:18px;
}

/* ================= FORM ================= */
.auth-box{
  display:flex;
  flex-direction:column;
  gap:10px;
}

.input-group{
  text-align:left;
  display:flex;
  flex-direction:column;
  gap:4px;
}

.input-group label{
  font-size:.7rem;
  opacity:.75;
}

/* ================= INPUTS ================= */
.auth-box input{
  height:34px;
  padding:6px 10px;
  border-radius:8px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.08);
  color:#fff;
  transition:.25s;
}

.auth-box input:focus{
  outline:none;
  border-color:var(--accent);
  box-shadow:0 0 14px var(--accent-glow);
}

/* Password strength */
.auth-box input.weak{box-shadow:0 0 8px red;}
.auth-box input.medium{box-shadow:0 0 8px orange;}
.auth-box input.strong{box-shadow:0 0 10px #00ffa3;}

/* ================= PASSWORD ================= */
.password-wrap{position:relative;}
.toggle-pass{
  position:absolute;
  right:10px;
  top:28px;
  cursor:pointer;
}
.caps-warning{
  font-size:.65rem;
  color:#ffb347;
}

/* ================= BUTTON ================= */
.auth-btn{
  height:36px;
  background:var(--accent);
  color:#000;
  border:none;
  border-radius:10px;
  font-weight:600;
  cursor:pointer;
  position:relative;
}

/* Loading spinner */
.auth-btn.loading{
  pointer-events:none;
  color:transparent;
}
.auth-btn.loading::after{
  content:"";
  width:16px;
  height:16px;
  border:2px solid #000;
  border-top-color:transparent;
  border-radius:50%;
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  animation:spin .8s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}

/* ================= BIOMETRIC ================= */
.bio-btn{
  height:34px;
  background:transparent;
  border:1px dashed var(--border);
  color:#fff;
  border-radius:10px;
  font-size:.75rem;
  cursor:pointer;
}
.bio-btn.scanning{
  box-shadow:0 0 18px var(--accent-glow);
  animation:pulse 1.2s infinite;
}
@keyframes pulse{50%{opacity:.6}}

/* ================= SWITCH ================= */
.auth-switch{
  font-size:.7rem;
  opacity:.8;
  cursor:pointer;
}
.auth-switch:hover{text-decoration:underline}


/* ================= UTIL ================= */
.hidden { display:none !important; }
